version: "3.7"

services:

  openldap:
    image: "osixia/phpldapadmin:latest"
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.openldap.rule=Path(`/openldap`)||PathPrefix(`/openldap/`)"
      - "traefik.http.routers.openldap.entrypoints=web"
      - "traefik.docker.network=external"
#      - "traefik.http.services.openldap-admin.loadbalancer.server.port=80"
#    environment:
#      PHPLDAPADMIN_LDAP_HOSTS: server
#      PHPLDAPADMIN_HTTPS: 'false'
    ports:
      - "8100:80"
    networks:
      - internal
      - external

networks:
  internal:
    external: true
  external:
    external: true
